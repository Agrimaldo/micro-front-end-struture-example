{"ast":null,"code":"var _jsxFileName = \"/home/agrimaldo/Documents/Projects/micro-front-end-struture-example/container/src/MicroFrontend.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MicroFrontend({\n  name,\n  host,\n  history\n}) {\n  _s();\n\n  useEffect(() => {\n    const scriptId = `micro-frontend-script-${name}`;\n\n    const renderMicroFrontend = () => {\n      window[`render${name}`](`${name}-container`, history);\n    };\n\n    if (document.getElementById(scriptId)) {\n      renderMicroFrontend();\n      return;\n    }\n\n    fetch(`${host}/asset-manifest.json`).then(res => res.json()).then(manifest => {\n      const script = document.createElement(\"script\");\n      script.id = scriptId;\n      script.crossOrigin = \"*\";\n      script.src = `${host}${manifest.files[\"main.js\"]}`;\n\n      script.onload = () => {\n        renderMicroFrontend();\n      };\n\n      document.head.appendChild(script);\n    });\n    return () => {\n      window[`unmount${name}`] && window[`unmount${name}`](`${name}-container`);\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    id: `${name}-container`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MicroFrontend, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = MicroFrontend;\nMicroFrontend.defaultProps = {\n  document,\n  window\n};\nexport default MicroFrontend;\n\nvar _c;\n\n$RefreshReg$(_c, \"MicroFrontend\");","map":{"version":3,"sources":["/home/agrimaldo/Documents/Projects/micro-front-end-struture-example/container/src/MicroFrontend.js"],"names":["React","useEffect","MicroFrontend","name","host","history","scriptId","renderMicroFrontend","window","document","getElementById","fetch","then","res","json","manifest","script","createElement","id","crossOrigin","src","files","onload","head","appendChild","defaultProps"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;;AAEA,SAASC,aAAT,CAAuB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,IAAR;AAAcC,EAAAA;AAAd,CAAvB,EAAgD;AAAA;;AAC/CJ,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMK,QAAQ,GAAI,yBAAwBH,IAAK,EAA/C;;AAEA,UAAMI,mBAAmB,GAAG,MAAM;AAEhCC,MAAAA,MAAM,CAAE,SAAQL,IAAK,EAAf,CAAN,CAAyB,GAAEA,IAAK,YAAhC,EAA6CE,OAA7C;AACD,KAHD;;AAKA,QAAII,QAAQ,CAACC,cAAT,CAAwBJ,QAAxB,CAAJ,EAAuC;AACrCC,MAAAA,mBAAmB;AACnB;AACD;;AAEDI,IAAAA,KAAK,CAAE,GAAEP,IAAK,sBAAT,CAAL,CACGQ,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESG,QAAD,IAAc;AAClB,YAAMC,MAAM,GAAGP,QAAQ,CAACQ,aAAT,CAAuB,QAAvB,CAAf;AACAD,MAAAA,MAAM,CAACE,EAAP,GAAYZ,QAAZ;AACAU,MAAAA,MAAM,CAACG,WAAP,GAAqB,GAArB;AACAH,MAAAA,MAAM,CAACI,GAAP,GAAc,GAAEhB,IAAK,GAAEW,QAAQ,CAACM,KAAT,CAAe,SAAf,CAA0B,EAAjD;;AACAL,MAAAA,MAAM,CAACM,MAAP,GAAgB,MAAM;AACpBf,QAAAA,mBAAmB;AACpB,OAFD;;AAGAE,MAAAA,QAAQ,CAACc,IAAT,CAAcC,WAAd,CAA0BR,MAA1B;AACD,KAXH;AAaA,WAAO,MAAM;AACXR,MAAAA,MAAM,CAAE,UAASL,IAAK,EAAhB,CAAN,IAA4BK,MAAM,CAAE,UAASL,IAAK,EAAhB,CAAN,CAA0B,GAAEA,IAAK,YAAjC,CAA5B;AACD,KAFD;AAGD,GA7BQ,CAAT;AA+BA,sBAAO;AAAM,IAAA,EAAE,EAAG,GAAEA,IAAK;AAAlB;AAAA;AAAA;AAAA;AAAA,UAAP;AACA;;GAjCQD,a;;KAAAA,a;AAmCTA,aAAa,CAACuB,YAAd,GAA6B;AAC5BhB,EAAAA,QAD4B;AAE5BD,EAAAA;AAF4B,CAA7B;AAKA,eAAeN,aAAf","sourcesContent":["import React, { useEffect } from \"react\";\n\nfunction MicroFrontend({ name, host, history }) {\n useEffect(() => {\n   const scriptId = `micro-frontend-script-${name}`;\n\n   const renderMicroFrontend = () => {\n\n     window[`render${name}`](`${name}-container`, history);\n   };\n\n   if (document.getElementById(scriptId)) {\n     renderMicroFrontend();\n     return;\n   }\n\n   fetch(`${host}/asset-manifest.json`)\n     .then((res) => res.json())\n     .then((manifest) => {\n       const script = document.createElement(\"script\");\n       script.id = scriptId;\n       script.crossOrigin = \"*\";\n       script.src = `${host}${manifest.files[\"main.js\"]}`;\n       script.onload = () => {\n         renderMicroFrontend();\n       };\n       document.head.appendChild(script);\n     });\n\n   return () => {\n     window[`unmount${name}`] && window[`unmount${name}`](`${name}-container`);\n   };\n });\n\n return <main id={`${name}-container`} />;\n}\n\nMicroFrontend.defaultProps = {\n document,\n window,\n};\n\nexport default MicroFrontend;"]},"metadata":{},"sourceType":"module"}